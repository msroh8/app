<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªÙ‚Ø±ÙŠØ± Ø²ÙŠØ§Ø±Ø© ÙÙ†ÙŠØ© - Ø¯Ø§Ø± Ø§Ù„ØªÙˆØ­ÙŠØ¯</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        body { font-family: 'Cairo', sans-serif; background-color: #e5e7eb; }
        @media print {
            .no-print { display: none !important; }
            body { background-color: white; padding: 0; }
            .paper { box-shadow: none !important; margin: 0 !important; width: 100% !important; border: none !important; }
        }
        .paper {
            background: white;
            width: 210mm; 
            min-height: 297mm;
            margin: 20px auto;
            padding: 20mm;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            position: relative;
        }
        @media (max-width: 210mm) {
            .paper { width: 95%; padding: 15px; margin: 10px auto; }
        }
        table { width: 100%; border-collapse: collapse; margin-bottom: 1rem; }
        th, td { border: 1px solid #1e3a8a; padding: 10px; text-align: right; font-size: 14px; }
        th { background-color: #f1f5f9; color: #1e3a8a; }
        .rating-btn { cursor: pointer; border: 1px solid #cbd5e1; border-radius: 4px; padding: 4px 10px; display: inline-block; transition: 0.3s; }
        .rating-input:checked + label { background-color: #1e3a8a; color: white; border-color: #1e3a8a; }
        .category-header { background-color: #1e3a8a; color: white; font-weight: bold; padding: 8px 12px; }
    </style>
</head>
<body>

<div class="max-w-4xl mx-auto mt-6 flex gap-4 no-print px-4">
    <button onclick="exportPDF()" class="flex-1 bg-blue-700 hover:bg-blue-800 text-white font-bold py-3 rounded-lg shadow transition-all flex items-center justify-center">
        ğŸ“„ Ø­ÙØ¸ Ø§Ù„ØªÙ‚Ø±ÙŠØ± ÙƒÙ€ PDF
    </button>
    <button onclick="window.print()" class="bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg shadow transition-all">
        ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ù…Ø¨Ø§Ø´Ø±Ø©
    </button>
</div>

<div id="report-content" class="paper">
    <div class="flex justify-between items-center border-b-2 border-blue-900 pb-6 mb-8">
        <div class="text-right">
            <h2 class="text-lg font-bold text-blue-900">Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</h2>
            <p class="text-md">ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…</p>
            <p class="text-md font-bold">Ø«Ø§Ù†ÙˆÙŠØ© Ø¯Ø§Ø± Ø§Ù„ØªÙˆØ­ÙŠØ¯</p>
        </div>
        <div class="text-center flex-1">
            <h1 class="text-3xl font-bold text-blue-900">Ø¨Ø·Ø§Ù‚Ø© Ø²ÙŠØ§Ø±Ø© ÙÙ†ÙŠØ©</h1>
            <p class="text-gray-500 mt-1">ØªÙ‚Ø±ÙŠØ± Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ø¹Ù„Ù… Ø¯Ø§Ø®Ù„ Ø§Ù„ØµÙ</p>
        </div>
    </div>

    <table class="mb-8">
        <tr>
            <th class="w-32">Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ù„Ù…:</th>
            <td><input type="text" class="w-full border-none outline-none font-bold text-blue-900 bg-transparent" placeholder="................................................"></td>
            <th class="w-32">Ø§Ù„Ù…Ø§Ø¯Ø©:</th>
            <td><input type="text" class="w-full border-none outline-none font-bold text-blue-900 bg-transparent" placeholder=".................................."></td>
        </tr>
        <tr>
            <th>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¯Ø±Ø³:</th>
            <td><input type="text" class="w-full border-none outline-none font-bold text-blue-900 bg-transparent" placeholder="................................................"></td>
            <th>Ø§Ù„ØªØ§Ø±ÙŠØ®:</th>
            <td><input type="text" class="w-full border-none outline-none font-bold text-blue-900 bg-transparent" value="1447 /     /     Ù‡Ù€"></td>
        </tr>
    </table>

    <div id="evaluation-container"></div>

    <div class="grid grid-cols-2 gap-0 border-2 border-blue-900 mb-8 mt-4 rounded-lg overflow-hidden">
        <div class="p-6 bg-blue-50 text-center border-l-2 border-blue-900">
            <span class="block text-gray-700 text-sm mb-1 font-semibold">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ (100)</span>
            <span id="finalScore" class="text-4xl font-bold text-blue-900">0</span>
        </div>
        <div class="p-6 bg-white text-center">
            <span class="block text-gray-700 text-sm mb-1 font-semibold">Ø§Ù„ØªÙ‚Ø¯ÙŠØ± Ø§Ù„Ø¹Ø§Ù…</span>
            <span id="finalGrade" class="text-2xl font-bold text-gray-400">-</span>
        </div>
    </div>

    <div class="space-y-6">
        <div class="border border-blue-900 rounded-lg overflow-hidden shadow-sm">
            <div class="category-header">âœ… Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ© ÙˆØ§Ù„ØªÙ…ÙŠØ²</div>
            <textarea class="w-full p-3 h-24 border-none outline-none resize-none leading-relaxed" placeholder="Ø£Ø¯Ø®Ù„ Ù†Ù‚Ø§Ø· Ø§Ù„ØªÙ…ÙŠØ² Ù‡Ù†Ø§..."></textarea>
        </div>
        <div class="border border-blue-900 rounded-lg overflow-hidden shadow-sm">
            <div class="category-header">ğŸ’¡ Ø§Ù„ØªÙˆØµÙŠØ§Øª ÙˆØ§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©</div>
            <textarea class="w-full p-3 h-24 border-none outline-none resize-none leading-relaxed" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©..."></textarea>
        </div>
    </div>

    <div class="flex justify-around mt-12 text-center font-bold pb-10">
        <div class="w-1/3">ÙˆÙƒÙŠÙ„ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©<br><span class="inline-block mt-6 border-b border-gray-400 w-32">Ø³Ù„Ø·Ø§Ù† Ø§Ù„Ø®Ø¯ÙŠØ¯ÙŠ</span></div>
        <div class="w-1/3">Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø¯Ø±Ø³Ø©<br><span class="inline-block mt-6 border-b border-gray-400 w-32">ÙÙ‡Ø¯ Ø§Ù„Ù‚Ø­Ø·Ø§Ù†ÙŠ</span></div>
        <div class="w-1/3">ØªÙˆÙ‚ÙŠØ¹ Ø§Ù„Ù…Ø¹Ù„Ù…<br><span class="inline-block mt-6 border-b border-dashed border-gray-400 w-32 text-gray-200">................</span></div>
    </div>
</div>

<script>
    const data = [
        {
            category: "Ø£ÙˆÙ„Ø§Ù‹: Ø§Ù„Ø³Ù…Ø§Øª Ø§Ù„Ù…Ù‡Ù†ÙŠØ© ÙˆØ§Ù„Ø§Ù†Ø¶Ø¨Ø§Ø·",
            items: [
                "ØªØ·Ø¨ÙŠÙ‚ Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ ÙˆØ£Ø®Ù„Ø§Ù‚ÙŠØ§Øª Ø§Ù„Ù…Ù‡Ù†Ø©",
                "Ø§Ù„ØªØ¹Ø§ÙˆÙ† Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠ ÙÙŠ Ø¨ÙŠØ¦Ø© Ø§Ù„Ø¹Ù…Ù„ ÙˆØ¢Ø¯Ø§Ø¨ Ø§Ù„Ø­ÙˆØ§Ø±",
                "Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø®Ø·Ø© Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ù‡Ù†ÙŠ ÙˆØªÙØ¹ÙŠÙ„ Ù…Ø¬ØªÙ…Ø¹Ø§Øª Ø§Ù„ØªØ¹Ù„Ù…",
                "ØªÙ‚Ø¯ÙŠÙ… Ø¥Ù†ØªØ§Ø¬ Ù…Ø¹Ø±ÙÙŠ ÙˆØ§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙÙŠ Ø§Ù„Ù„Ù‚Ø§Ø¡Ø§Øª Ø§Ù„Ù…Ù‡Ù†ÙŠØ©",
                "Ø§Ù„Ø§Ù†Ø¶Ø¨Ø§Ø· ÙÙŠ Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ (Ø­Ø¶ÙˆØ±ØŒ Ø§Ù†ØµØ±Ø§ÙØŒ Ø¨Ø¯Ø§ÙŠØ© Ø­ØµØ©)"
            ]
        },
        {
            category: "Ø«Ø§Ù†ÙŠØ§Ù‹: Ø§Ù„ØªØ®Ø·ÙŠØ· ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ Ù„Ù„ØªØ¹Ù„Ù…",
            items: [
                "Ø§Ù„ØªØ®Ø·ÙŠØ· Ù„Ù„Ø¯Ø±Ø³ ÙˆÙÙ‚ Ù…Ù†Ù‡Ø¬ÙŠØ© Ø¹Ù„Ù…ÙŠØ© ÙˆØ£Ù‡Ø¯Ø§Ù ÙˆØ§Ø¶Ø­Ø©",
                "Ø¨Ù†Ø§Ø¡ Ø£Ù†Ø´Ø·Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© ØªØ±Ø§Ø¹ÙŠ Ø§Ù„ÙØ±ÙˆÙ‚ Ø§Ù„ÙØ±Ø¯ÙŠØ©",
                "Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø±Ø§Ø¬Ø¹ ÙˆÙ…ØµØ§Ø¯Ø± ØªØ¹Ù„Ù… Ø¥Ø¶Ø§ÙÙŠØ© ØªØ¯Ø¹Ù… Ø§Ù„Ù…Ø§Ø¯Ø©",
                "ØªÙ‚Ø¯ÙŠÙ… Ù…Ø§Ø¯Ø© Ø¹Ù„Ù…ÙŠØ© ØµØ­ÙŠØ­Ø© ØªØ±ØªØ¨Ø· Ø¨Ø£Ù‡Ø¯Ø§Ù Ø§Ù„ØªØ¹Ù„Ù…",
                "Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© ÙˆØ§Ù„Ù…Ø´ÙˆÙ‚Ø© Ù„Ø¯Ø¹Ù… Ø£Ù‡Ø¯Ø§Ù Ø§Ù„ØªØ¹Ù„Ù…"
            ]
        },
        {
            category: "Ø«Ø§Ù„Ø«Ø§Ù‹: ØªÙ†ÙÙŠØ° Ø§Ù„ØªØ¯Ø±ÙŠØ³ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ",
            items: [
                "ØªØ·Ø¨ÙŠÙ‚ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª ØªØ¹Ù„Ù… Ù†Ø´Ø· Ù…ØªÙ†ÙˆØ¹Ø© ÙˆÙØ¹Ø§Ù„Ø©",
                "ØªÙˆØ¸ÙŠÙ Ø§Ù„ØªÙ‚Ù†ÙŠØ© ÙˆØ§Ù„ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø¨ÙƒÙØ§Ø¡Ø©",
                "Ø¥Ø´Ø±Ø§Ùƒ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø§Ø¨ ÙÙŠ Ø§Ù„Ø£Ù†Ø´Ø·Ø© ÙˆØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ø¹Ø¯Ø§Ù„Ø©",
                "Ø·Ø±Ø­ Ø£Ø³Ø¦Ù„Ø© ØµÙÙŠØ© Ù…Ø«ÙŠØ±Ø© Ù„Ù„ØªÙÙƒÙŠØ± Ø¨Ù…Ø³ØªÙˆÙŠØ§Øª Ù…Ø®ØªÙ„ÙØ©",
                "Ø±Ø¨Ø· Ø§Ù„Ø¯Ø±Ø³ Ø¨ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø­ÙŠØ§Ø© ÙˆØªÙƒØ§Ù…Ù„Ù‡ Ù…Ø¹ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø£Ø®Ø±Ù‰"
            ]
        },
        {
            category: "Ø±Ø§Ø¨Ø¹Ø§Ù‹: Ø§Ù„ØªÙ‚ÙˆÙŠÙ… ÙˆÙ†ÙˆØ§ØªØ¬ Ø§Ù„ØªØ¹Ù„Ù…",
            items: [
                "Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø³Ø§Ù„ÙŠØ¨ ØªÙ‚ÙˆÙŠÙ… Ù…ØªÙ†ÙˆØ¹Ø© (Ù‚Ø¨Ù„ÙŠØŒ ØªÙƒÙˆÙŠÙ†ÙŠØŒ Ø®ØªØ§Ù…ÙŠ)",
                "ØªÙ‚Ø¯ÙŠÙ… ØªØºØ°ÙŠØ© Ø±Ø§Ø¬Ø¹Ø© ÙÙˆØ±ÙŠØ© ÙˆÙ…Ø¨Ø§Ø´Ø±Ø© Ù„Ù„Ø·Ù„Ø§Ø¨",
                "Ø¥Ø¯Ø§Ø±Ø© Ø¨ÙŠØ¦Ø© Ø§Ù„ØªØ¹Ù„Ù… ÙˆØ¶Ø¨Ø· Ø§Ù„ØµÙ ÙˆØ§Ø³ØªØ«Ù…Ø§Ø± Ø§Ù„ÙˆÙ‚Øª",
                "Ù…Ø³ØªÙˆÙ‰ ØªÙØ§Ø¹Ù„ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø®Ù„Ø§Ù„ Ø§Ù„Ø¯Ø±Ø³ ÙˆÙ†ÙˆØ§ØªØ¬ Ø§Ù„ØªØ¹Ù„Ù…",
                "Ù…Ø³ØªÙˆÙ‰ ØªØ­ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ø¹Ù„Ù…ÙŠ ÙˆØ§ÙƒØªØ³Ø§Ø¨ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª"
            ]
        }
    ];

    let globalItemIdx = 1;
    const container = document.getElementById('evaluation-container');

    data.forEach(section => {
        let tableHTML = `
            <div class="category-header">${section.category}</div>
            <table class="mb-6">
                <thead>
                    <tr class="bg-gray-50">
                        <th class="w-12 text-center">#</th>
                        <th>Ù…Ø¹ÙŠØ§Ø± Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</th>
                        <th class="w-56 text-center">Ø§Ù„Ø¯Ø±Ø¬Ø© (1-5)</th>
                    </tr>
                </thead>
                <tbody>
        `;

        section.items.forEach(text => {
            tableHTML += `
                <tr class="hover:bg-blue-50 transition-colors">
                    <td class="text-center font-bold text-gray-600">${globalItemIdx}</td>
                    <td class="font-medium">${text}</td>
                    <td>
                        <div class="flex justify-between gap-1 no-print">
                            ${[1, 2, 3, 4, 5].map(v => `
                                <div class="flex-1 text-center">
                                    <input type="radio" id="q${globalItemIdx}-${v}" name="q${globalItemIdx}" value="${v}" class="hidden rating-input" onchange="calculate()">
                                    <label for="q${globalItemIdx}-${v}" class="rating-btn text-xs font-bold w-full">${v}</label>
                                </div>
                            `).join('')}
                        </div>
                    </td>
                </tr>
            `;
            globalItemIdx++;
        });

        tableHTML += `</tbody></table>`;
        container.innerHTML += tableHTML;
    });

    function calculate() {
        let total = 0;
        document.querySelectorAll('.rating-input:checked').forEach(input => {
            total += parseInt(input.value);
        });

        const scoreEl = document.getElementById('finalScore');
        const gradeEl = document.getElementById('finalGrade');
        scoreEl.innerText = total;

        if (total >= 90) { gradeEl.innerText = "Ù…Ù…ØªØ§Ø²"; gradeEl.className = "text-2xl font-bold text-green-600"; }
        else if (total >= 80) { gradeEl.innerText = "Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹"; gradeEl.className = "text-2xl font-bold text-blue-600"; }
        else if (total >= 70) { gradeEl.innerText = "Ø¬ÙŠØ¯"; gradeEl.className = "text-2xl font-bold text-orange-600"; }
        else if (total > 0) { gradeEl.innerText = "ÙŠØ­ØªØ§Ø¬ ØªØ·ÙˆÙŠØ±"; gradeEl.className = "text-2xl font-bold text-red-600"; }
    }

    function exportPDF() {
        const element = document.getElementById('report-content');
        const opt = {
            margin:       [0, 0],
            filename:     'ØªÙ‚Ø±ÙŠØ±_Ø²ÙŠØ§Ø±Ø©_ÙÙ†ÙŠØ©_Ø¯Ø§Ø±_Ø§Ù„ØªÙˆØ­ÙŠØ¯.pdf',
            image:        { type: 'jpeg', quality: 1 },
            html2canvas:  { scale: 2, useCORS: true },
            jsPDF:        { unit: 'mm', format: 'a4', orientation: 'portrait' }
        };
        html2pdf().set(opt).from(element).save();
    }
</script>

</body>
</html>