<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªÙ‚Ø±ÙŠØ± Ø²ÙŠØ§Ø±Ø© ÙÙ†ÙŠØ© - Ø¯Ø§Ø± Ø§Ù„ØªÙˆØ­ÙŠØ¯</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        body { font-family: 'Cairo', sans-serif; background-color: #f3f4f6; }
        @media print {
            .no-print { display: none !important; }
            body { background-color: white; padding: 0; }
            .paper { box-shadow: none !important; margin: 0 !important; width: 100% !important; border: none !important; padding: 15mm !important; }
        }
        .paper {
            background: white;
            width: 210mm; 
            min-height: 297mm;
            margin: 20px auto;
            padding: 20mm;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
        }
        @media (max-width: 210mm) {
            .paper { width: 100%; padding: 10px; margin: 0; box-shadow: none; }
            table { font-size: 12px; }
            .dropdown-eval { width: 60px !important; padding: 2px !important; }
        }
        table { width: 100%; border-collapse: collapse; }
        th, td { border: 1px solid #1e3a8a; padding: 8px; text-align: right; }
        th { background-color: #f8fafc; color: #1e3a8a; font-weight: 700; }
        .category-row { background-color: #1e3a8a !important; color: white !important; font-weight: bold; }
        .dropdown-eval {
            width: 80px;
            padding: 5px;
            border: 1px solid #cbd5e1;
            border-radius: 4px;
            background-color: #fff;
            cursor: pointer;
            font-weight: bold;
            text-align: center;
        }
    </style>
</head>
<body class="p-0 md:p-4 text-gray-800">

<div class="max-w-4xl mx-auto mb-4 flex gap-2 no-print p-2">
    <button onclick="exportPDF()" class="flex-1 bg-blue-700 hover:bg-blue-800 text-white font-bold py-3 rounded-lg flex items-center justify-center gap-2 transition-all">
        <span>ğŸ“„ Ø­ÙØ¸ PDF</span>
    </button>
    <button onclick="window.print()" class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-3 rounded-lg transition-all">
        ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©
    </button>
</div>

<div id="report-content" class="paper mx-auto">
    <div class="flex justify-between items-start border-b-4 border-blue-900 pb-4 mb-6">
        <div class="space-y-1">
            <h2 class="text-sm md:text-lg font-bold">Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</h2>
            <p class="text-xs md:text-sm">ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…</p>
            <p class="text-xs md:text-sm font-bold">Ø«Ø§Ù†ÙˆÙŠØ© Ø¯Ø§Ø± Ø§Ù„ØªÙˆØ­ÙŠØ¯</p>
        </div>
        <div class="text-center pt-2">
            <h1 class="text-xl md:text-2xl font-black text-blue-900">Ø¨Ø·Ø§Ù‚Ø© Ø²ÙŠØ§Ø±Ø© ÙÙ†ÙŠØ©</h1>
        </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-0 border-t border-r border-blue-900 mb-6">
        <div class="border-l border-b border-blue-900 p-2 flex bg-gray-50">
            <span class="font-bold w-24">Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ù„Ù…:</span>
            <input type="text" class="flex-1 bg-transparent border-none outline-none font-semibold text-blue-800">
        </div>
        <div class="border-l border-b border-blue-900 p-2 flex bg-gray-50">
            <span class="font-bold w-24">Ø§Ù„Ù…Ø§Ø¯Ø©:</span>
            <input type="text" class="flex-1 bg-transparent border-none outline-none font-semibold text-blue-800">
        </div>
        <div class="border-l border-b border-blue-900 p-2 flex bg-gray-50">
            <span class="font-bold w-24">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¯Ø±Ø³:</span>
            <input type="text" class="flex-1 bg-transparent border-none outline-none font-semibold text-blue-800">
        </div>
        <div class="border-l border-b border-blue-900 p-2 flex bg-gray-50">
            <span class="font-bold w-24">Ø§Ù„ØªØ§Ø±ÙŠØ®:</span>
            <input type="text" class="flex-1 bg-transparent border-none outline-none font-semibold text-blue-800" value="1447 /    /    Ù‡Ù€">
        </div>
    </div>

    <table class="w-full text-xs md:text-sm mb-6">
        <thead>
            <tr>
                <th class="w-8 text-center">#</th>
                <th>Ù…Ø¹ÙŠØ§Ø± Ø§Ù„ØªÙ‚ÙŠÙŠÙ… ÙˆØ§Ù„Ø£Ø³Ø§Ù„ÙŠØ¨ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</th>
                <th class="w-24 text-center">Ø§Ù„Ø¯Ø±Ø¬Ø©</th>
            </tr>
        </thead>
        <tbody id="evaluation-rows">
            </tbody>
    </table>

    <div class="flex border-2 border-blue-900 rounded-lg overflow-hidden mb-6">
        <div class="flex-1 p-4 bg-blue-900 text-white text-center">
            <div class="text-xs uppercase opacity-80">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ</div>
            <div id="totalScore" class="text-3xl font-black">0</div>
        </div>
        <div class="flex-1 p-4 bg-white text-center border-r-2 border-blue-900">
            <div class="text-xs uppercase text-gray-500">Ø§Ù„ØªÙ‚Ø¯ÙŠØ± Ø§Ù„Ø¹Ø§Ù…</div>
            <div id="gradeText" class="text-xl font-black text-gray-400">-</div>
        </div>
    </div>

    <div class="space-y-4">
        <div class="border border-blue-900 rounded shadow-sm">
            <div class="bg-blue-50 p-2 font-bold border-b border-blue-900 text-blue-900">âœ… Ù…ÙˆØ§Ø·Ù† Ø§Ù„Ù‚ÙˆØ© ÙˆØ§Ù„ØªÙ…ÙŠØ²:</div>
            <textarea class="w-full p-2 h-20 border-none outline-none resize-none text-sm"></textarea>
        </div>
        <div class="border border-blue-900 rounded shadow-sm">
            <div class="bg-blue-50 p-2 font-bold border-b border-blue-900 text-blue-900">ğŸ’¡ Ø§Ù„ØªÙˆØµÙŠØ§Øª ÙˆØ§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ù…Ù‚ØªØ±Ø­ ØªÙ†ÙÙŠØ°Ù‡Ø§:</div>
            <textarea class="w-full p-2 h-20 border-none outline-none resize-none text-sm"></textarea>
        </div>
    </div>

    <div class="grid grid-cols-3 gap-4 mt-10 text-center text-xs md:text-sm font-bold border-t pt-6">
        <div>ÙˆÙƒÙŠÙ„ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©<br><p class="mt-4 text-blue-900">Ø³Ù„Ø·Ø§Ù† Ø§Ù„Ø®Ø¯ÙŠØ¯ÙŠ</p></div>
        <div>Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø¯Ø±Ø³Ø©<br><p class="mt-4 text-blue-900">ÙÙ‡Ø¯ Ø§Ù„Ù‚Ø­Ø·Ø§Ù†ÙŠ</p></div>
        <div>ØªÙˆÙ‚ÙŠØ¹ Ø§Ù„Ù…Ø¹Ù„Ù…<br><p class="mt-4 text-gray-300">........................</p></div>
    </div>
</div>

<script>
    const criteria = [
        { cat: "Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ù‡Ù†ÙŠ ÙˆØ§Ù„Ø§Ù†Ø¶Ø¨Ø§Ø·", items: [
            "ØªØ·Ø¨ÙŠÙ‚ Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ ÙˆØ£Ø®Ù„Ø§Ù‚ÙŠØ§Øª Ø§Ù„Ù…Ù‡Ù†Ø©", "Ø§Ù„ØªØ¹Ø§ÙˆÙ† Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠ ÙÙŠ Ø¨ÙŠØ¦Ø© Ø§Ù„Ø¹Ù…Ù„ ÙˆØ¢Ø¯Ø§Ø¨ Ø§Ù„Ø­ÙˆØ§Ø±",
            "Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø®Ø·Ø© Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ù‡Ù†ÙŠ ÙˆØªÙØ¹ÙŠÙ„ Ù…Ø¬ØªÙ…Ø¹Ø§Øª Ø§Ù„ØªØ¹Ù„Ù…", "ØªÙ‚Ø¯ÙŠÙ… Ø¥Ù†ØªØ§Ø¬ Ù…Ø¹Ø±ÙÙŠ ÙˆØ§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙÙŠ Ø§Ù„Ù„Ù‚Ø§Ø¡Ø§Øª Ø§Ù„Ù…Ù‡Ù†ÙŠØ©",
            "Ø§Ù„Ø§Ù†Ø¶Ø¨Ø§Ø· ÙÙŠ Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ (Ø­Ø¶ÙˆØ±ØŒ Ø§Ù†ØµØ±Ø§ÙØŒ Ø¨Ø¯Ø§ÙŠØ© Ø­ØµØ©)"
        ]},
        { cat: "Ø§Ù„ØªØ®Ø·ÙŠØ· ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ Ù„Ù„ØªØ¹Ù„Ù…", items: [
            "Ø§Ù„ØªØ®Ø·ÙŠØ· Ù„Ù„Ø¯Ø±Ø³ ÙˆÙÙ‚ Ù…Ù†Ù‡Ø¬ÙŠØ© Ø¹Ù„Ù…ÙŠØ© ÙˆØ£Ù‡Ø¯Ø§Ù ÙˆØ§Ø¶Ø­Ø©", "Ø¨Ù†Ø§Ø¡ Ø£Ù†Ø´Ø·Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© ØªØ±Ø§Ø¹ÙŠ Ø§Ù„ÙØ±ÙˆÙ‚ Ø§Ù„ÙØ±Ø¯ÙŠØ©",
            "Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø±Ø§Ø¬Ø¹ ÙˆÙ…ØµØ§Ø¯Ø± ØªØ¹Ù„Ù… Ø¥Ø¶Ø§ÙÙŠØ© ØªØ¯Ø¹Ù… Ø§Ù„Ù…Ø§Ø¯Ø©", "ØªÙ‚Ø¯ÙŠÙ… Ù…Ø§Ø¯Ø© Ø¹Ù„Ù…ÙŠØ© ØµØ­ÙŠØ­Ø© ØªØ±ØªØ¨Ø· Ø¨Ø£Ù‡Ø¯Ø§Ù Ø§Ù„ØªØ¹Ù„Ù…",
            "Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© ÙˆØ§Ù„Ù…Ø´ÙˆÙ‚Ø© Ù„Ø¯Ø¹Ù… Ø£Ù‡Ø¯Ø§Ù Ø§Ù„ØªØ¹Ù„Ù…"
        ]},
        { cat: "ØªÙ†ÙÙŠØ° Ø§Ù„ØªØ¯Ø±ÙŠØ³ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ", items: [
            "ØªØ·Ø¨ÙŠÙ‚ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª ØªØ¹Ù„Ù… Ù†Ø´Ø· Ù…ØªÙ†ÙˆØ¹Ø© ÙˆÙØ¹Ø§Ù„Ø©", "ØªÙˆØ¸ÙŠÙ Ø§Ù„ØªÙ‚Ù†ÙŠØ© ÙˆØ§Ù„ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø¨ÙƒÙØ§Ø¡Ø©",
            "Ø¥Ø´Ø±Ø§Ùƒ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø§Ø¨ ÙÙŠ Ø§Ù„Ø£Ù†Ø´Ø·Ø© ÙˆØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ø¹Ø¯Ø§Ù„Ø©", "Ø·Ø±Ø­ Ø£Ø³Ø¦Ù„Ø© ØµÙÙŠØ© Ù…Ø«ÙŠØ±Ø© Ù„Ù„ØªÙÙƒÙŠØ± Ø¨Ù…Ø³ØªÙˆÙŠØ§Øª Ù…Ø®ØªÙ„ÙØ©",
            "Ø±Ø¨Ø· Ø§Ù„Ø¯Ø±Ø³ Ø¨ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø­ÙŠØ§Ø© ÙˆØªÙƒØ§Ù…Ù„Ù‡ Ù…Ø¹ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø£Ø®Ø±Ù‰"
        ]},
        { cat: "Ø§Ù„ØªÙ‚ÙˆÙŠÙ… ÙˆÙ†ÙˆØ§ØªØ¬ Ø§Ù„ØªØ¹Ù„Ù…", items: [
            "Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø³Ø§Ù„ÙŠØ¨ ØªÙ‚ÙˆÙŠÙ… Ù…ØªÙ†ÙˆØ¹Ø© (Ù‚Ø¨Ù„ÙŠØŒ ØªÙƒÙˆÙŠÙ†ÙŠØŒ Ø®ØªØ§Ù…ÙŠ)", "ØªÙ‚Ø¯ÙŠÙ… ØªØºØ°ÙŠØ© Ø±Ø§Ø¬Ø¹Ø© ÙÙˆØ±ÙŠØ© ÙˆÙ…Ø¨Ø§Ø´Ø±Ø© Ù„Ù„Ø·Ù„Ø§Ø¨",
            "Ø¥Ø¯Ø§Ø±Ø© Ø¨ÙŠØ¦Ø© Ø§Ù„ØªØ¹Ù„Ù… ÙˆØ¶Ø¨Ø· Ø§Ù„ØµÙ ÙˆØ§Ø³ØªØ«Ù…Ø§Ø± Ø§Ù„ÙˆÙ‚Øª", "Ù…Ø³ØªÙˆÙ‰ ØªÙØ§Ø¹Ù„ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø®Ù„Ø§Ù„ Ø§Ù„Ø¯Ø±Ø³ ÙˆÙ†ÙˆØ§ØªØ¬ Ø§Ù„ØªØ¹Ù„Ù…",
            "Ù…Ø³ØªÙˆÙ‰ ØªØ­ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ø¹Ù„Ù…ÙŠ ÙˆØ§ÙƒØªØ³Ø§Ø¨ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª"
        ]}
    ];

    const tbody = document.getElementById('evaluation-rows');
    let index = 1;

    criteria.forEach(section => {
        const catRow = document.createElement('tr');
        catRow.innerHTML = `<td colspan="3" class="category-row text-center p-1">${section.cat}</td>`;
        tbody.appendChild(catRow);

        section.items.forEach(text => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td class="text-center font-bold bg-gray-50">${index}</td>
                <td class="p-2">${text}</td>
                <td class="text-center bg-gray-50">
                    <select class="dropdown-eval" onchange="updateScore()">
                        <option value="0">-</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                </td>
            `;
            tbody.appendChild(row);
            index++;
        });
    });

    function updateScore() {
        let total = 0;
        document.querySelectorAll('.dropdown-eval').forEach(sel => total += parseInt(sel.value));
        
        const totalEl = document.getElementById('totalScore');
        const gradeEl = document.getElementById('gradeText');
        
        totalEl.innerText = total;

        if(total >= 90) { gradeEl.innerText = "Ù…Ù…ØªØ§Ø²"; gradeEl.className = "text-xl font-black text-green-600"; }
        else if(total >= 80) { gradeEl.innerText = "Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹"; gradeEl.className = "text-xl font-black text-blue-600"; }
        else if(total >= 70) { gradeEl.innerText = "Ø¬ÙŠØ¯"; gradeEl.className = "text-xl font-black text-orange-500"; }
        else if(total > 0) { gradeEl.innerText = "ÙŠØ­ØªØ§Ø¬ ØªØ·ÙˆÙŠØ±"; gradeEl.className = "text-xl font-black text-red-500"; }
    }

    function exportPDF() {
        const element = document.getElementById('report-content');
        const opt = {
            margin: 0,
            filename: 'ØªÙ‚Ø±ÙŠØ±_Ø²ÙŠØ§Ø±Ø©_Ø¯Ø§Ø±_Ø§Ù„ØªÙˆØ­ÙŠØ¯.pdf',
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2, useCORS: true },
            jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
        };
        html2pdf().set(opt).from(element).save();
    }
</script>

</body>
</html>
